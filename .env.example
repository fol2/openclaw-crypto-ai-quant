# OpenClaw AI Quant — Environment Variables
#
# Copy to .env (or set in your systemd EnvironmentFile).
# Lines starting with '#' are comments.

# ── Mode ──────────────────────────────────────────────────────────
# paper   = simulated trading (default)
# dry_live = connect + analyze but never send orders
# live     = real orders (requires AI_QUANT_LIVE_ENABLE + CONFIRM)
AI_QUANT_MODE=paper

# ── Secrets / Wallet ──────────────────────────────────────────────
# Path to secrets.json (see config/secrets.json.example).
# Recommended: keep secrets OUTSIDE the repo and lock permissions (chmod 600).
AI_QUANT_SECRETS_PATH=~/.config/openclaw/ai-quant-secrets.json

# ── Databases ─────────────────────────────────────────────────────
# Paper and live use separate DBs to avoid mixing balances/trades.
AI_QUANT_DB_PATH=./trading_engine.db
# AI_QUANT_DB_PATH=./trading_engine_live.db  # for live mode

# ── Candle Data ───────────────────────────────────────────────────
AI_QUANT_CANDLES_SOURCE=sidecar
AI_QUANT_CANDLES_DB_DIR=./candles_dbs
AI_QUANT_INTERVAL=1h
AI_QUANT_LOOKBACK_BARS=200

# ── WS Sidecar ────────────────────────────────────────────────────
AI_QUANT_WS_SOURCE=sidecar
AI_QUANT_WS_SIDECAR_SOCK=$XDG_RUNTIME_DIR/openclaw-ai-quant-ws.sock
AI_QUANT_MARKET_DB_PATH=./market_data.db

# ── Universe ──────────────────────────────────────────────────────
AI_QUANT_SYMBOLS=BTC,ETH,SOL
AI_QUANT_TOP_N=50

# ── Notifications ─────────────────────────────────────────────────
# Discord channel ID for paper trade notifications (optional).
AI_QUANT_DISCORD_CHANNEL=

# Optional label prefix for Discord notifications (e.g. v8-paper1).
# AI_QUANT_DISCORD_LABEL=

# Discord channel ID for live trade notifications (optional).
# AI_QUANT_DISCORD_CHANNEL_LIVE=

# Alerting (AQC-904): uses `openclaw message send` to deliver notifications.
# Optional explicit path to the OpenClaw CLI when systemd PATH does not include it.
# AI_QUANT_OPENCLAW_BIN=~/.local/bin/openclaw
# IMPORTANT: Some targets (e.g. webhook URLs) are secrets. Store them in your systemd EnvironmentFile,
# not in the repo. The alerting code redacts targets in logs, but do not rely on that as your only safeguard.
#
# Format: comma-separated channel:target pairs.
# Examples:
# AI_QUANT_ALERT_TARGETS=discord:#alerts,telegram:@my_alerts
# AI_QUANT_ALERT_ENABLED=1
# AI_QUANT_ALERT_DRY_RUN=1

# ── Live Safety Gates ─────────────────────────────────────────────
# Both must be set for live mode to send real orders.
# AI_QUANT_LIVE_ENABLE=1
# AI_QUANT_LIVE_CONFIRM=I_UNDERSTAND_THIS_CAN_LOSE_MONEY

# Kill switches (set to 1 to disable).
# AI_QUANT_KILL_SWITCH=0       # Close-only: no new entries/adds
# AI_QUANT_HARD_KILL_SWITCH=0  # No orders at all (including exits)

# ── OMS / Intent Safety ───────────────────────────────────────────
# In live/dry_live, entry orders (OPEN/ADD) are tracked via an OMS intent for dedupe + audit.
# Default: enabled (fail-closed if intent creation fails). Set to 0 to fail-open (not recommended).
# AI_QUANT_OMS_REQUIRE_INTENT_FOR_ENTRY=1

# ── Live Sizing ───────────────────────────────────────────────────
# AI_QUANT_LIVE_MAX_OPEN_POSITIONS=10
# AI_QUANT_LIVE_MAX_NOTIONAL_USD_PER_ORDER=150.0
# AI_QUANT_LIVE_MIN_MARGIN_USD=8.0

# ── Debugging ─────────────────────────────────────────────────────
# AI_QUANT_NEUTRAL_AUDIT_SAMPLE_EVERY_S=600
# AI_QUANT_NEUTRAL_AUDIT_SAMPLE_SYMBOLS=5
# AI_QUANT_DEBUG_GATES_SYMBOLS=BTC
# AI_QUANT_DEBUG_GATES_EVERY_S=30
