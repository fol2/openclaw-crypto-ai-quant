# sweep_full 141v profile (was 144v → 142v → 141v — see changelog below)
#
# Scope:
# - Expands sweep coverage from the legacy 34-axis profile to broad strategy coverage.
# - Includes every backtester-sweepable strategy leaf in config scope (engine/runtime/ops/universe/risk excluded).
# - Keeps legacy 34-axis ranges where defined; new axes use baseline-centred ranges.
#
# Enum encoding:
# - trade.entry_min_confidence: 0=low, 1=medium, 2=high
# - trade.add_min_confidence: 0=low, 1=medium, 2=high
# - thresholds.entry.pullback_confidence: 0=low, 1=medium, 2=high
# - thresholds.entry.macd_hist_entry_mode: 0=accel, 1=sign, 2=none
#
# Intentional exclusions (engine-only keys — not sweepable in backtest):
# - trade.use_bbo_for_fills              — requires live orderbook (BBO data)
# - market_regime.regime_gate_enabled    — requires live breadth data
# - market_regime.regime_gate_bear_min   — requires live breadth data
# - market_regime.regime_gate_bear_max   — requires live breadth data
# - market_regime.regime_gate_bull_min   — requires live breadth data
# - market_regime.regime_gate_bull_max   — requires live breadth data
# - market_regime.regime_gate_neutral_min — requires live breadth data
# - market_regime.regime_gate_neutral_max — requires live breadth data
#
# Changelog:
# 2026-02-14  B3  Removed duplicate indicators.ave_avg_atr_window (alias of
#                 thresholds.entry.ave_avg_atr_window — Rust syncs them; keeping
#                 both wastes 3× compute). Added trade.tp_partial_atr_mult
#                 (fully implemented in Rust+Python, has sweep match arm,
#                 materially impacts trade behavior). Net: +1 −1 = 142 axes.
initial_balance: 10000000
lookback: 260
axes:
- path: filters.adx_rising_saturation
  gate:
    path: filters.require_adx_rising
    eq: 1
  values:
  - 28
  - 40
  - 52
- path: filters.enable_anomaly_filter
  values:
  - 0
  - 1
- path: filters.enable_extension_filter
  values:
  - 0
  - 1
- path: filters.enable_ranging_filter
  values:
  - 0
  - 1
- path: filters.require_adx_rising
  values:
  - 0
  - 1
- path: filters.require_btc_alignment
  values:
  - 0
  - 1
- path: filters.require_macro_alignment
  values:
  - 0
  - 1
- path: filters.require_volume_confirmation
  values:
  - 0
  - 1
- path: filters.use_stoch_rsi_filter
  values:
  - 0
  - 1
- path: filters.vol_confirm_include_prev
  gate:
    path: filters.require_volume_confirmation
    eq: 1
  values:
  - 0
  - 1
- path: indicators.adx_window
  values:
  - 8
  - 10
  - 12
  - 14
  - 16
  - 18
- path: indicators.atr_window
  values:
  - 10
  - 12
  - 14
  - 16
  - 18
  - 20
- path: indicators.bb_width_avg_window
  values:
  - 20
  - 30
  - 40
  - 50
- path: indicators.bb_window
  values:
  - 10
  - 15
  - 20
  - 25
  - 30
- path: indicators.ema_fast_window
  values:
  - 5
  - 8
  - 12
  - 16
- path: indicators.ema_macro_window
  values:
  - 140
  - 200
  - 260
- path: indicators.ema_slow_window
  values:
  - 21
  - 30
  - 40
  - 50
- path: indicators.rsi_window
  values:
  - 10
  - 12
  - 14
  - 16
  - 18
  - 20
- path: indicators.stoch_rsi_smooth1
  gate:
    path: filters.use_stoch_rsi_filter
    eq: 1
  values:
  - 2
  - 3
  - 4
  - 5
- path: indicators.stoch_rsi_smooth2
  gate:
    path: filters.use_stoch_rsi_filter
    eq: 1
  values:
  - 2
  - 3
  - 4
  - 5
- path: indicators.stoch_rsi_window
  gate:
    path: filters.use_stoch_rsi_filter
    eq: 1
  values:
  - 10
  - 12
  - 14
  - 16
  - 18
  - 20
- path: indicators.vol_sma_window
  values:
  - 10
  - 15
  - 20
  - 25
  - 30
- path: indicators.vol_trend_window
  values:
  - 3
  - 5
  - 7
  - 10
- path: market_regime.auto_reverse_breadth_high
  gate:
    path: market_regime.enable_auto_reverse
    eq: 1
  values:
  - 65
  - 80
  - 95
- path: market_regime.auto_reverse_breadth_low
  gate:
    path: market_regime.enable_auto_reverse
    eq: 1
  values:
  - 5
  - 10
  - 15
- path: market_regime.breadth_block_long_below
  gate:
    path: market_regime.enable_regime_filter
    eq: 1
  values:
  - 5
  - 10
  - 15
- path: market_regime.breadth_block_short_above
  gate:
    path: market_regime.enable_regime_filter
    eq: 1
  values:
  - 65
  - 80
  - 95
- path: market_regime.enable_auto_reverse
  values:
  - 0
  - 1
- path: market_regime.enable_regime_filter
  values:
  - 0
  - 1
- path: thresholds.anomaly.ema_fast_dev_pct_gt
  gate:
    path: filters.enable_anomaly_filter
    eq: 1
  values:
  - 0.35
  - 0.5
  - 0.65
- path: thresholds.anomaly.price_change_pct_gt
  gate:
    path: filters.enable_anomaly_filter
    eq: 1
  values:
  - 0.07
  - 0.1
  - 0.13
- path: thresholds.entry.ave_adx_mult
  gate:
    path: thresholds.entry.ave_enabled
    eq: 1
  values:
  - 0.8
  - 1.0
  - 1.25
  - 1.5
- path: thresholds.entry.ave_atr_ratio_gt
  gate:
    path: thresholds.entry.ave_enabled
    eq: 1
  values:
  - 1.0
  - 1.25
  - 1.5
  - 2.0
- path: thresholds.entry.ave_avg_atr_window
  gate:
    path: thresholds.entry.ave_enabled
    eq: 1
  values:
  - 30
  - 40
  - 50
  - 60
  - 70
  - 80
- path: thresholds.entry.ave_enabled
  values:
  - 0
  - 1
- path: thresholds.entry.btc_adx_override
  values:
  - 28
  - 40
  - 52
- path: thresholds.entry.enable_pullback_entries
  values:
  - 0
  - 1
- path: thresholds.entry.enable_slow_drift_entries
  values:
  - 0
  - 1
- path: thresholds.entry.high_conf_volume_mult
  gate:
    path: filters.require_volume_confirmation
    eq: 1
  values:
  - 1.5
  - 2.0
  - 2.5
  - 3.0
- path: thresholds.entry.macd_hist_entry_mode
  values:
  - 0
  - 1
  - 2
- path: thresholds.entry.max_dist_ema_fast
  values:
  - 0.02
  - 0.03
  - 0.04
  - 0.05
- path: thresholds.entry.min_adx
  values:
  - 10
  - 15
  - 20
  - 25
- path: thresholds.entry.pullback_confidence
  gate:
    path: thresholds.entry.enable_pullback_entries
    eq: 1
  values:
  - 0
  - 1
  - 2
- path: thresholds.entry.pullback_min_adx
  gate:
    path: thresholds.entry.enable_pullback_entries
    eq: 1
  values:
  - 15
  - 22
  - 30
- path: thresholds.entry.pullback_require_macd_sign
  gate:
    path: thresholds.entry.enable_pullback_entries
    eq: 1
  values:
  - 0
  - 1
- path: thresholds.entry.pullback_rsi_long_min
  gate:
    path: thresholds.entry.enable_pullback_entries
    eq: 1
  values:
  - 30
  - 40
  - 50
- path: thresholds.entry.pullback_rsi_short_max
  gate:
    path: thresholds.entry.enable_pullback_entries
    eq: 1
  values:
  - 55
  - 65
  - 75
- path: thresholds.entry.slow_drift_min_adx
  gate:
    path: thresholds.entry.enable_slow_drift_entries
    eq: 1
  values:
  - 7
  - 10
  - 13
- path: thresholds.entry.slow_drift_min_slope_pct
  gate:
    path: thresholds.entry.enable_slow_drift_entries
    eq: 1
  values:
  - 0.0004
  - 0.0006
  - 0.0008
- path: thresholds.entry.slow_drift_require_macd_sign
  gate:
    path: thresholds.entry.enable_slow_drift_entries
    eq: 1
  values:
  - 0
  - 1
- path: thresholds.entry.slow_drift_rsi_long_min
  gate:
    path: thresholds.entry.enable_slow_drift_entries
    eq: 1
  values:
  - 30
  - 40
  - 50
- path: thresholds.entry.slow_drift_rsi_short_max
  gate:
    path: thresholds.entry.enable_slow_drift_entries
    eq: 1
  values:
  - 55
  - 65
  - 75
- path: thresholds.entry.slow_drift_slope_window
  gate:
    path: thresholds.entry.enable_slow_drift_entries
    eq: 1
  values:
  - 10
  - 15
  - 20
  - 25
  - 30
  - 35
  - 40
- path: thresholds.ranging.adx_below
  gate:
    path: filters.enable_ranging_filter
    eq: 1
  values:
  - 15
  - 21
  - 28
- path: thresholds.ranging.bb_width_ratio_below
  gate:
    path: filters.enable_ranging_filter
    eq: 1
  values:
  - 0.5
  - 0.8
  - 1.1
- path: thresholds.ranging.min_signals
  gate:
    path: filters.enable_ranging_filter
    eq: 1
  values:
  - 1
  - 2
  - 3
- path: thresholds.ranging.rsi_high
  gate:
    path: filters.enable_ranging_filter
    eq: 1
  values:
  - 54
  - 62
  - 70
- path: thresholds.ranging.rsi_low
  gate:
    path: filters.enable_ranging_filter
    eq: 1
  values:
  - 30
  - 38
  - 46
- path: thresholds.stoch_rsi.block_long_if_k_gt
  gate:
    path: filters.use_stoch_rsi_filter
    eq: 1
  values:
  - 0.6
  - 0.75
  - 0.9
- path: thresholds.stoch_rsi.block_short_if_k_lt
  gate:
    path: filters.use_stoch_rsi_filter
    eq: 1
  values:
  - 0.1
  - 0.15
  - 0.2
- path: thresholds.tp_and_momentum.adx_strong_gt
  values:
  - 28
  - 40
  - 52
- path: thresholds.tp_and_momentum.adx_weak_lt
  values:
  - 21
  - 30
  - 39
- path: thresholds.tp_and_momentum.rsi_long_strong
  values:
  - 36
  - 52
  - 68
- path: thresholds.tp_and_momentum.rsi_long_weak
  values:
  - 39
  - 56
  - 73
- path: thresholds.tp_and_momentum.rsi_short_strong
  values:
  - 34
  - 48
  - 62
- path: thresholds.tp_and_momentum.rsi_short_weak
  values:
  - 31
  - 44
  - 57
- path: thresholds.tp_and_momentum.tp_mult_strong
  values:
  - 5
  - 7
  - 9
- path: thresholds.tp_and_momentum.tp_mult_weak
  values:
  - 2
  - 3
  - 4
- path: trade.add_cooldown_minutes
  gate:
    path: trade.enable_pyramiding
    eq: 1
  values:
  - 30
  - 60
  - 90
- path: trade.add_fraction_of_base_margin
  gate:
    path: trade.enable_pyramiding
    eq: 1
  values:
  - 0.25
  - 0.5
  - 0.75
  - 1.0
- path: trade.add_min_confidence
  gate:
    path: trade.enable_pyramiding
    eq: 1
  values:
  - 0
  - 1
  - 2
- path: trade.add_min_profit_atr
  gate:
    path: trade.enable_pyramiding
    eq: 1
  values:
  - 0.35
  - 0.5
  - 0.65
- path: trade.adx_sizing_full_adx
  gate:
    path: trade.enable_dynamic_sizing
    eq: 1
  values:
  - 28
  - 40
  - 52
- path: trade.adx_sizing_min_mult
  gate:
    path: trade.enable_dynamic_sizing
    eq: 1
  values:
  - 0.4
  - 0.6
  - 0.8
- path: trade.allocation_pct
  values:
  - 0.05
  - 0.1
  - 0.15
  - 0.2
  - 0.25
  - 0.3
- path: trade.block_exits_on_extreme_dev
  values:
  - 0
  - 1
- path: trade.breakeven_buffer_atr
  gate:
    path: trade.enable_breakeven_stop
    eq: 1
  values:
  - 0.05
  - 0.1
  - 0.15
- path: trade.breakeven_start_atr
  gate:
    path: trade.enable_breakeven_stop
    eq: 1
  values:
  - 0.3
  - 0.5
  - 0.7
  - 1.0
- path: trade.bump_to_min_notional
  values:
  - 0
  - 1
- path: trade.confidence_mult_high
  gate:
    path: trade.enable_dynamic_sizing
    eq: 1
  values:
  - 0.9
  - 1.0
  - 1.2
- path: trade.confidence_mult_low
  gate:
    path: trade.enable_dynamic_sizing
    eq: 1
  values:
  - 0.2
  - 0.3
  - 0.4
- path: trade.confidence_mult_medium
  gate:
    path: trade.enable_dynamic_sizing
    eq: 1
  values:
  - 0.5
  - 0.65
  - 0.8
- path: trade.enable_breakeven_stop
  values:
  - 0
  - 1
- path: trade.enable_dynamic_leverage
  values:
  - 0
  - 1
- path: trade.enable_dynamic_sizing
  values:
  - 0
  - 1
- path: trade.enable_partial_tp
  values:
  - 0
  - 1
- path: trade.enable_pyramiding
  values:
  - 0
  - 1
- path: trade.enable_reef_filter
  values:
  - 0
  - 1
- path: trade.enable_rsi_overextension_exit
  values:
  - 0
  - 1
- path: trade.enable_ssf_filter
  values:
  - 0
  - 1
- path: trade.enable_vol_buffered_trailing
  values:
  - 0
  - 1
- path: trade.entry_cooldown_s
  values:
  - 15
  - 20
  - 25
- path: trade.entry_min_confidence
  values:
  - 0
  - 1
  - 2
- path: trade.exit_cooldown_s
  values:
  - 10
  - 15
  - 20
- path: trade.glitch_atr_mult
  values:
  - 8
  - 12
  - 16
- path: trade.glitch_price_dev_pct
  values:
  - 0.25
  - 0.4
  - 0.55
- path: trade.leverage
  gate:
    path: trade.enable_dynamic_leverage
    eq: 0
  values:
  - 1
  - 2
  - 3
  - 4
  - 5
- path: trade.leverage_high
  gate:
    path: trade.enable_dynamic_leverage
    eq: 1
  values:
  - 5
  - 6
  - 7
- path: trade.leverage_low
  gate:
    path: trade.enable_dynamic_leverage
    eq: 1
  values:
  - 1
  - 2
- path: trade.leverage_medium
  gate:
    path: trade.enable_dynamic_leverage
    eq: 1
  values:
  - 3
  - 4
- path: trade.max_adds_per_symbol
  gate:
    path: trade.enable_pyramiding
    eq: 1
  values:
  - 1
  - 2
  - 3
- path: trade.max_entry_orders_per_loop
  values:
  - 4
  - 6
  - 8
- path: trade.max_open_positions
  values:
  - 14
  - 20
  - 26
- path: trade.max_total_margin_pct
  values:
  - 0.4
  - 0.6
  - 0.8
- path: trade.min_atr_pct
  values:
  - 0.0
  - 0.002
  - 0.004
- path: trade.min_notional_usd
  values:
  - 10
  - 15
  - 20
- path: trade.reef_adx_threshold
  gate:
    path: trade.enable_reef_filter
    eq: 1
  values:
  - 30
  - 45
  - 60
- path: trade.reef_long_rsi_block_gt
  gate:
    path: trade.enable_reef_filter
    eq: 1
  values:
  - 55
  - 65
  - 75
- path: trade.reef_long_rsi_extreme_gt
  gate:
    path: trade.enable_reef_filter
    eq: 1
  values:
  - 80
  - 85
  - 90
- path: trade.reef_short_rsi_block_lt
  gate:
    path: trade.enable_reef_filter
    eq: 1
  values:
  - 25
  - 35
  - 45
- path: trade.reef_short_rsi_extreme_lt
  gate:
    path: trade.enable_reef_filter
    eq: 1
  values:
  - 10
  - 15
  - 20
- path: trade.reentry_cooldown_max_mins
  values:
  - 120
  - 180
  - 240
- path: trade.reentry_cooldown_min_mins
  values:
  - 20
  - 40
  - 60
- path: trade.reentry_cooldown_minutes
  values:
  - 30
  - 60
  - 90
- path: trade.reverse_entry_signal
  values:
  - 0
  - 1
- path: trade.rsi_exit_lb_hi_profit
  gate:
    path: trade.enable_rsi_overextension_exit
    eq: 1
  values:
  - 25
  - 32
  - 40
- path: trade.rsi_exit_lb_hi_profit_low_conf
  gate:
    path: trade.enable_rsi_overextension_exit
    eq: 1
  values:
  - 0
  - 25
  - 38
- path: trade.rsi_exit_lb_lo_profit
  gate:
    path: trade.enable_rsi_overextension_exit
    eq: 1
  values:
  - 10
  - 15
  - 20
- path: trade.rsi_exit_lb_lo_profit_low_conf
  gate:
    path: trade.enable_rsi_overextension_exit
    eq: 1
  values:
  - 0
  - 10
  - 20
- path: trade.rsi_exit_profit_atr_switch
  gate:
    path: trade.enable_rsi_overextension_exit
    eq: 1
  values:
  - 1.0
  - 1.5
  - 2.0
- path: trade.rsi_exit_ub_hi_profit
  gate:
    path: trade.enable_rsi_overextension_exit
    eq: 1
  values:
  - 50
  - 60
  - 70
- path: trade.rsi_exit_ub_hi_profit_low_conf
  gate:
    path: trade.enable_rsi_overextension_exit
    eq: 1
  values:
  - 0
  - 60
  - 70
- path: trade.rsi_exit_ub_lo_profit
  gate:
    path: trade.enable_rsi_overextension_exit
    eq: 1
  values:
  - 75
  - 85
  - 95
- path: trade.rsi_exit_ub_lo_profit_low_conf
  gate:
    path: trade.enable_rsi_overextension_exit
    eq: 1
  values:
  - 0
  - 80
  - 90
- path: trade.sl_atr_mult
  values:
  - 1.0
  - 1.5
  - 2.0
  - 2.5
  - 3.0
- path: trade.slippage_bps
  values:
  - 5
  - 10
  - 15
- path: trade.smart_exit_adx_exhaustion_lt
  values:
  - 0
  - 15
  - 30
- path: trade.smart_exit_adx_exhaustion_lt_low_conf
  values:
  - 0
  - 15
  - 30
- path: trade.tp_atr_mult
  values:
  - 3
  - 4
  - 5
  - 6
  - 7
  - 8
- path: trade.tp_partial_atr_mult
  gate:
    path: trade.enable_partial_tp
    eq: 1
  values:
  - 1.0
  - 1.5
  - 2.5
- path: trade.tp_partial_min_notional_usd
  gate:
    path: trade.enable_partial_tp
    eq: 1
  values:
  - 10
  - 15
  - 20
- path: trade.tp_partial_pct
  gate:
    path: trade.enable_partial_tp
    eq: 1
  values:
  - 0.35
  - 0.5
  - 0.65
- path: trade.trailing_distance_atr
  gate:
    path: trade.enable_vol_buffered_trailing
    eq: 1
  values:
  - 0.2
  - 0.3
  - 0.5
  - 0.7
- path: trade.trailing_distance_atr_low_conf
  gate:
    path: trade.enable_vol_buffered_trailing
    eq: 1
  values:
  - 0.0
  - 0.3
  - 0.5
- path: trade.trailing_start_atr
  gate:
    path: trade.enable_vol_buffered_trailing
    eq: 1
  values:
  - 0.8
  - 1.2
  - 1.6
  - 2.0
- path: trade.trailing_start_atr_low_conf
  gate:
    path: trade.enable_vol_buffered_trailing
    eq: 1
  values:
  - 0.0
  - 0.7
  - 1.0
- path: trade.tsme_min_profit_atr
  values:
  - 0.7
  - 1.0
  - 1.3
- path: trade.tsme_require_adx_slope_negative
  values:
  - 0
  - 1
- path: trade.vol_baseline_pct
  gate:
    path: trade.enable_dynamic_sizing
    eq: 1
  values:
  - 0.007
  - 0.01
  - 0.013
- path: trade.vol_scalar_max
  gate:
    path: trade.enable_dynamic_sizing
    eq: 1
  values:
  - 0.7
  - 1.0
  - 1.3
- path: trade.vol_scalar_min
  gate:
    path: trade.enable_dynamic_sizing
    eq: 1
  values:
  - 0.35
  - 0.5
  - 0.65
